<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pagination ì»´í¬ë„ŒíŠ¸ ì‹¤ìŠµ</title>
  <!-- ê¸°ì¡´ Pagination.css ì‚¬ìš© -->
  <link rel="stylesheet" href="Pagination.css">
  <style>
    /* ============================================
     * ì‹¤ìŠµ í˜ì´ì§€ ì „ìš© ìŠ¤íƒ€ì¼ (ì¶”ê°€)
     * ============================================ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-color: #f5f6fa;
      padding: 2rem;
      min-height: 100vh;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    h1 {
      color: #2c3e50;
      margin-bottom: 1rem;
      text-align: center;
    }

    .description {
      text-align: center;
      color: #7f8c8d;
      margin-bottom: 2rem;
    }

    /* ìƒ˜í”Œ ë°ì´í„° ëª©ë¡ ìŠ¤íƒ€ì¼ */
    .data-list {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .data-item {
      padding: 1rem 1.5rem;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .data-item:last-child {
      border-bottom: none;
    }

    .data-item:hover {
      background-color: #f8f9fa;
    }

    .item-id {
      color: #7f8c8d;
      font-size: 0.85rem;
      margin-right: 0.5rem;
    }

    .item-name {
      font-weight: 500;
      color: #2c3e50;
    }

    .item-amount {
      color: #e74c3c;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“„ Pagination ì»´í¬ë„ŒíŠ¸ ì‹¤ìŠµ</h1>
    <p class="description">í˜ì´ì§€ë„¤ì´ì…˜ UI ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í˜ì´ì§€ë¥¼ ì´ë™í•´ë³´ì„¸ìš”.</p>

    <!-- ============================================
         ë°ì´í„° ëª©ë¡ ì˜ì—­
         ============================================ -->
    <div class="data-list" id="dataList">
      <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
    </div>

    <!-- ============================================
         Pagination ì»´í¬ë„ŒíŠ¸
         ============================================ -->
    <div class="pagination">
      <!-- í˜ì´ì§€ ì •ë³´ -->
      <div class="pagination-info">
        <span id="pageInfo">ì „ì²´ 100ê±´ ì¤‘ 1-10ê±´ í‘œì‹œ</span>
      </div>

      <!-- í˜ì´ì§€ ì»¨íŠ¸ë¡¤ -->
      <div class="pagination-controls">
        <!-- ì´ì „ ë²„íŠ¼ -->
        <button 
          id="prevBtn"
          class="pagination-btn" 
          aria-label="ì´ì „ í˜ì´ì§€"
          disabled
        >
          ì´ì „
        </button>

        <!-- í˜ì´ì§€ ë²ˆí˜¸ë“¤ -->
        <div class="pagination-pages" id="pageNumbers">
          <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
        </div>

        <!-- ë‹¤ìŒ ë²„íŠ¼ -->
        <button 
          id="nextBtn"
          class="pagination-btn" 
          aria-label="ë‹¤ìŒ í˜ì´ì§€"
        >
          ë‹¤ìŒ
        </button>
      </div>
    </div>
  </div>

  <script>
    // ============================================
    // ìƒíƒœ ê´€ë¦¬
    // ============================================
    const state = {
      currentPage: 0,      // í˜„ì¬ í˜ì´ì§€ (0ë¶€í„° ì‹œì‘)
      pageSize: 10,        // í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜
      totalElements: 100,  // ì „ì²´ í•­ëª© ìˆ˜
    };

    // ê³„ì‚°ëœ ê°’
    const getTotalPages = () => Math.ceil(state.totalElements / state.pageSize);
    const getHasPrevious = () => state.currentPage > 0;
    const getHasNext = () => state.currentPage < getTotalPages() - 1;

    // ============================================
    // ìƒ˜í”Œ ë°ì´í„° ìƒì„±
    // ============================================
    function generateSampleData() {
      const data = [];
      for (let i = 1; i <= state.totalElements; i++) {
        data.push({
          id: i,
          name: `í•­ëª© ${i}`,
          amount: Math.floor(Math.random() * 100000) + 10000,
        });
      }
      return data;
    }

    const allData = generateSampleData();

    // ============================================
    // í˜„ì¬ í˜ì´ì§€ì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    // ============================================
    function getCurrentPageData() {
      const startIndex = state.currentPage * state.pageSize;
      const endIndex = startIndex + state.pageSize;
      return allData.slice(startIndex, endIndex);
    }

    // ============================================
    // ë°ì´í„° ëª©ë¡ ë Œë”ë§
    // ============================================
    function renderDataList() {
      const dataList = document.getElementById('dataList');
      const currentData = getCurrentPageData();

      dataList.innerHTML = currentData.map(item => `
        <div class="data-item">
          <div>
            <span class="item-id">#${item.id}</span>
            <span class="item-name">${item.name}</span>
          </div>
          <span class="item-amount">â‚©${item.amount.toLocaleString()}</span>
        </div>
      `).join('');
    }

    // ============================================
    // í˜ì´ì§€ ì •ë³´ ì—…ë°ì´íŠ¸
    // ============================================
    function updatePageInfo() {
      const pageInfo = document.getElementById('pageInfo');
      const startIndex = state.currentPage * state.pageSize + 1;
      const endIndex = Math.min(
        (state.currentPage + 1) * state.pageSize, 
        state.totalElements
      );
      pageInfo.textContent = `ì „ì²´ ${state.totalElements}ê±´ ì¤‘ ${startIndex}-${endIndex}ê±´ í‘œì‹œ`;
    }

    // ============================================
    // í˜ì´ì§€ ë²ˆí˜¸ ë²„íŠ¼ ë Œë”ë§
    // ============================================
    function renderPageNumbers() {
      const pageNumbers = document.getElementById('pageNumbers');
      const totalPages = getTotalPages();
      const maxVisible = 5;
      
      let html = '';
      
      for (let i = 0; i < totalPages; i++) {
        // ì²« í˜ì´ì§€, ë§ˆì§€ë§‰ í˜ì´ì§€, í˜„ì¬ í˜ì´ì§€ ì£¼ë³€ë§Œ í‘œì‹œ
        if (
          i === 0 ||
          i === totalPages - 1 ||
          (i >= state.currentPage - Math.floor(maxVisible / 2) &&
           i <= state.currentPage + Math.floor(maxVisible / 2))
        ) {
          const isActive = i === state.currentPage ? 'active' : '';
          html += `
            <button 
              class="pagination-page-btn ${isActive}"
              data-page="${i}"
              aria-label="${i + 1}í˜ì´ì§€ë¡œ ì´ë™"
              ${isActive ? 'aria-current="page"' : ''}
            >
              ${i + 1}
            </button>
          `;
        } else if (
          i === state.currentPage - Math.floor(maxVisible / 2) - 1 ||
          i === state.currentPage + Math.floor(maxVisible / 2) + 1
        ) {
          html += `<span class="pagination-ellipsis">...</span>`;
        }
      }
      
      pageNumbers.innerHTML = html;
      
      // í˜ì´ì§€ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
      pageNumbers.querySelectorAll('.pagination-page-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const page = parseInt(this.dataset.page);
          goToPage(page);
        });
      });
    }

    // ============================================
    // ì´ì „/ë‹¤ìŒ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
    // ============================================
    function updateNavigationButtons() {
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      
      prevBtn.disabled = !getHasPrevious();
      nextBtn.disabled = !getHasNext();
    }

    // ============================================
    // í˜ì´ì§€ ì´ë™
    // ============================================
    function goToPage(page) {
      if (page < 0 || page >= getTotalPages()) return;
      if (page === state.currentPage) return;
      
      state.currentPage = page;
      render();
    }

    function goToPreviousPage() {
      if (getHasPrevious()) {
        goToPage(state.currentPage - 1);
      }
    }

    function goToNextPage() {
      if (getHasNext()) {
        goToPage(state.currentPage + 1);
      }
    }

    // ============================================
    // ì „ì²´ ë Œë”ë§
    // ============================================
    function render() {
      renderDataList();
      updatePageInfo();
      renderPageNumbers();
      updateNavigationButtons();
    }

    // ============================================
    // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    // ============================================
    document.getElementById('prevBtn').addEventListener('click', goToPreviousPage);
    document.getElementById('nextBtn').addEventListener('click', goToNextPage);

    // ============================================
    // ì´ˆê¸° ë Œë”ë§
    // ============================================
    render();
  </script>
</body>
</html>
